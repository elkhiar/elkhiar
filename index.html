<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yassir Elkhiar</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <style type="text/css">
        body {
            background-color: #000;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: courier, monospace; /* Use the same font throughout */
        }
        #console {
            color: #fff;
            width: 750px;
            margin-left: auto;
            margin-right: auto;
            margin-top: 100px;
            font-size: 14px;
            line-height: 1;
            position: relative;
            z-index: 1; /* Ensure the console text appears above the canvas */
            display: none; /* Hide the console */
        }
        a {
            color: #0bc;
            text-decoration: none;
        }
        #a {
            color: #0f0;
        }
        #c {
            color: #0bc;
        }
        #b {
            color: #ff0096;
        }
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0; /* Ensure the canvas is behind the console text */
        }
        #header {
            width: 750px;
            margin: 100px auto 0;
        }
        #separator {
            height: 1px;
            background: #0bc;
            width: 0;
            margin-top: 10px; /* Ajuste cette valeur selon l'espace requis sous la première ligne */
            overflow: hidden;
        }
        #contact {
            color: #fff;
            font-size: 14px;
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
        }
        #contact span {
            margin-right: 20px;
        }
        /* Supprimé les styles tricolores */
    </style>
</head>
<body>
    <canvas id="wireframeCanvas"></canvas>

    <div id="header">
        <div id="console">
            <div id="consoleLine">
                <span id="a">yassir@elkhiar</span>:<span id="b">~</span><span id="c">$</span> curriculum vitæ.txt
            </div>
            <div id="separator"></div>
        </div>
        <div id="contact">
            <span>email 1: <a href="mailto:yassir.el-khiar@dauphine.eu">yassir.el-khiar@dauphine.eu</a></span>
            <span>email 2: <a href="mailto:elkhiar00@gmail.com">elkhiar00@gmail.com</a></span>
            <span>07 63 42 13 23</span>
            <span style="color: #fff;">Paris, France</span> <!-- Changement du style ici -->
        </div>
    </div>

    <script type="text/javascript">
        var Typer = {
            text: null,
            accessCountimer: null,
            index: 0,
            speed: 2,
            file: "",
            accessCount: 0,
            deniedCount: 0,
            separatorLength: 50, // Longueur de la ligne horizontale
            init: function () {
                accessCountimer = setInterval(function () { Typer.updLstChr(); }, 500);
                $.get(Typer.file, function (data) {
                    Typer.text = data;
                    Typer.text = Typer.text.slice(0, Typer.text.length - 1);
                });
            },
            content: function () {
                return $("#console").html();
            },
            write: function (str) {
                $("#console").append(str);
                return false;
            },
            addText: function (key) {
                if (key.keyCode == 18) {
                    Typer.accessCount++;
                    if (Typer.accessCount >= 3) {
                        Typer.makeAccess();
                    }
                } else if (key.keyCode == 20) {
                    Typer.deniedCount++;
                    if (Typer.deniedCount >= 3) {
                        Typer.makeDenied();
                    }
                } else if (key.keyCode == 27) {
                    Typer.hidepop();
                } else if (Typer.text) {
                    var cont = Typer.content();
                    if (cont.substring(cont.length - 1, cont.length) == "|")
                        $("#console").html($("#console").html().substring(0, cont.length - 1));
                    if (key.keyCode != 8) {
                        Typer.index += Typer.speed;
                    } else {
                        if (Typer.index > 0)
                            Typer.index -= Typer.speed;
                    }
                    var text = Typer.text.substring(0, Typer.index)
                    text = text.replace(/<tricolor>(.*?)<\/tricolor>/g, '<span class="tricolor">$1</span>');
                    $("#console").html(text.replace(/\n/g, "<br>"));
                    window.scrollBy(0, 50);

                    if (Typer.index >= Typer.text.length) {
                        Typer.addSeparator();
                    }
                }
                if (key.preventDefault && key.keyCode != 122) {
                    key.preventDefault()
                };
                if (key.keyCode != 122) {
                    key.returnValue = false;
                }
            },
            updLstChr: function () {
                var cont = this.content();
                if (cont.substring(cont.length - 1, cont.length) == "|")
                    $("#console").html($("#console").html().substring(0, cont.length - 1));
                else
                    this.write("|");
            },
            addSeparator: function () {
                var separator = "";
                for (var i = 0; i < Typer.separatorLength; i++) {
                    separator += Typer.getRandomChar();
                }
                $("#separator").html(separator);
                setTimeout(Typer.animateSeparator, 50);
            },
            getRandomChar: function () {
                var chars = "!@#$%^&*()_+{}|:<>?`~[];',./abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                return chars.charAt(Math.floor(Math.random() * chars.length));
            },
            animateSeparator: function () {
                var content = $("#separator").html();
                var finalSeparator = "-".repeat(Typer.separatorLength);
                var currentLength = content.replace(/-/g, "").length;
                var newContent = "";
                for (var i = 0; i < Typer.separatorLength; i++) {
                    if (i < currentLength) {
                        newContent += "-";
                    } else {
                        newContent += Typer.getRandomChar();
                    }
                }
                $("#separator").html(newContent);
                if (newContent !== finalSeparator) {
                    setTimeout(Typer.animateSeparator, 50);
                } else {
                    $("#separator").css("width", "100%");
                }
            }
        }

        Typer.speed = 3;
        Typer.file = "elkhiar.txt";
        Typer.init();

        var timer = setInterval("t();", 1000); // Assure that this line is updated to be functional
    </script>
</body>
</html>
